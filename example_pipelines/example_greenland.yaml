configuration:
  eo_pipelines:
    spec:
      lat_min: "72.35.56N"
      lat_max: "64.44.52N"
      lon_min: "54.46.05W"
      lon_max: "53.49.56W"
      start_date: 2021-06-01
      end_date: 2021-08-31
      max_cloud_cover_fraction: 0.1
      datasets:
        LANDSAT_OT_C2_L1:
          bands: [ 1,2,3,4,5,6,7,8,9,10,11,QA_PIXEL ]
        LANDSAT_OT_C2_L2:
          bands: [ ST,ST_QA ]
    environment:
      run_id: example_greenland
      working_directory: /gws/nopw/j04/lake_icesheet/pipeline_test
      conda_path: /home/users/niallmcc/miniconda3/bin/conda
      shell: "/bin/bash"
      echo_stdout: True

nodes:
  n0:
    type: eo_pipelines:usgs_search
  n1:
    type: eo_pipelines:usgs_fetch
    properties:
      configuration:
        output_path: /gws/nopw/j04/lake_icesheet/pipeline_test/fetched
  n2:
    type: eo_pipelines:usgs_import
    properties:
      configuration:
        output_path: /gws/nopw/j04/lake_icesheet/pipeline_test/imported
      executor_settings:
        executor: local
        local:
          nr_threads: 4
  n3:
    type: eo_pipelines:usgs_group
    properties:
      configuration:
        output_path: /gws/nopw/j04/lake_icesheet/pipeline_test/grouped

links:
  - n0 => n1
  - n1 => n2
  - n2 => n3